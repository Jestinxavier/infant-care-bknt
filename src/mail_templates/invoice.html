<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Order Confirmation</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta name="x-apple-disable-message-reformatting" />
    <style>
      img {
        max-width: 100%;
        height: auto;
      }
      .email-container {
        max-width: 620px;
        width: 100%;
      }
      @media only screen and (max-width: 620px) {
        .email-container {
          width: 100% !important;
          max-width: 100% !important;
        }
        .mobile-pad {
          padding-left: 12px !important;
          padding-right: 12px !important;
        }
        .mobile-font-intro-title {
          font-size: 15px !important;
        }
        .mobile-font-intro-body {
          font-size: 12px !important;
        }
        .mobile-font-order-details {
          font-size: 11px !important;
        }
        .mobile-font-summary-title {
          font-size: 12px !important;
        }
        .mobile-font-summary-table {
          font-size: 11px !important;
        }
        .mobile-font-totals {
          font-size: 11px !important;
        }
        .mobile-font-address {
          font-size: 12px !important;
        }
        .mobile-font-footer {
          font-size: 11px !important;
        }
        .mobile-tight-pad {
          padding: 12px 16px !important;
        }
        .mobile-tight-pad-sm {
          padding: 8px 16px !important;
        }
        .mobile-body-no-pad {
          padding: 0 !important;
        }
      }
    </style>
  </head>

  <body
    style="
      margin: 0;
      padding: 0;
      background: #e5e7eb;
      font-family: Arial, sans-serif;
    "
  >
    <table
      width="100%"
      cellpadding="0"
      cellspacing="0"
      style="min-width: 100%; background: #e5e7eb"
    >
      <tr>
        <td align="center" style="padding: 8px 8px">
          <table
            class="email-container"
            width="620"
            cellpadding="0"
            cellspacing="0"
            style="background: #ffffff; margin: 0 auto"
          >
            <!-- HEADER -->
            <tr>
              <td
                align="center"
                style="
                  padding: 16px 16px 16px 16px;
                  border-bottom: 1px solid #e5e7eb;
                  background: #f9fafb;
                "
              >
                <img
                  src="{{emailLogoDataUrl}}"
                  alt="Infants Care"
                  width="90"
                  height="30"
                  style="
                    display: block;
                    max-width: 90px;
                    height: auto;
                    border: 0;
                    -ms-interpolation-mode: bicubic;
                  "
                />
              </td>
            </tr>

            <!-- INTRO -->
            <tr>
              <td
                style="
                  padding: 16px 16px;
                  text-align: center;
                  background-color: rgb(254, 249, 252);
                "
              >
                <p
                  class="mobile-font-intro-title"
                  style="margin: 0 0 8px; font-size: 18px; font-weight: bold"
                >
                  Hi {{username}}
                </p>

                <p
                  class="mobile-font-intro-body"
                  style="margin: 0; color: #555; font-size: 14px"
                >
                  Thank you for shopping with <strong>{{storeName}}</strong>. We
                  are preparing your order and will notify you once it is
                  shipped.
                </p>
              </td>
            </tr>

            <!-- ORDER DETAILS (stacked vertically) -->
            <tr>
              <td style="padding: 10px 16px 16px 16px">
                <table
                  width="100%"
                  class="mobile-font-order-details"
                  style="font-size: 13px; color: #000"
                >
                  <tr>
                    <td style="padding: 4px 0">
                      <strong style="color: #000">Order Id</strong><br />
                      <span style="color: #666">#{{orderId}}</span>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding: 4px 0">
                      <strong style="color: #000">Order Date</strong><br />
                      <span style="color: #666">{{orderDate}}</span>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding: 4px 0">
                      <strong style="color: #000">Estimated Delivery</strong
                      ><br />
                      <span style="color: #666">{{estimatedDelivery}}</span>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- ORDER SUMMARY -->
            <tr>
              <td style="padding: 10px 16px; font-size: 13px">
                <strong>Order Summary</strong>
              </td>
            </tr>

            <tr>
              <td class="mobile-pad" style="padding: 0 28px">
                <table
                  class="mobile-font-summary-table"
                  width="100%"
                  cellpadding="0"
                  cellspacing="0"
                  style="border-collapse: collapse; font-size: 13px"
                >
                  <tr
                    style="
                      font-size: 13px;
                      color: #666;
                      border-bottom: 1px solid #e5e7eb;
                    "
                  >
                    <td width="70%" style="padding: 10px 0">Item</td>
                    <td align="right" width="30%" style="padding: 10px 0">
                      Price
                    </td>
                  </tr>

                  {{#items}}
                  <tr>
                    <td style="padding: 12px 0; vertical-align: top">
                      {{productName}}<br />
                      <span style="font-size: 12px; color: #666"
                        >Qty: {{quantity}}</span
                      >
                    </td>
                    <td
                      align="right"
                      style="padding: 12px 0; vertical-align: top"
                    >
                      {{priceFormatted}}
                    </td>
                  </tr>
                  {{/items}}
                </table>
              </td>
            </tr>

            <!-- PRICE SUMMARY -->
            <tr>
              <td style="padding: 12px 16px 0 16px; font-size: 13px">
                <table width="100%">
                  <tr>
                    <td align="right" style="padding: 4px 0; color: #555">
                      Subtotal
                    </td>
                    <td align="right" width="120">{{subtotalFormatted}}</td>
                  </tr>

                  <tr>
                    <td align="right" style="padding: 4px 0; color: #555">
                      Shipping
                    </td>
                    <td align="right">{{shippingFormatted}}</td>
                  </tr>

                  {{#hasDiscount}}
                  <tr>
                    <td align="right" style="padding: 4px 0; color: #16a34a">
                      Discount
                    </td>
                    <td align="right" style="color: #16a34a">
                      {{discountFormatted}}
                    </td>
                  </tr>
                  {{/hasDiscount}}

                  <tr>
                    <td colspan="2" style="height: 12px"></td>
                  </tr>

                  <tr>
                    <td
                      align="right"
                      style="border-top: 1px solid #e5e7eb; padding-top: 8px"
                    >
                      <strong>Grand Total</strong>
                    </td>
                    <td
                      align="right"
                      style="border-top: 1px solid #e5e7eb; padding-top: 8px"
                    >
                      <strong>{{totalFormatted}}</strong>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- DELIVERY ADDRESS (table layout so clients don't collapse into "show more" toggle) -->
            <tr>
              <td style="padding: 16px 16px">
                <table
                  width="100%"
                  cellpadding="0"
                  cellspacing="0"
                  role="presentation"
                  style="font-size: 12px; color: #333"
                >
                  <tr>
                    <td style="padding-bottom: 6px">
                      <strong>Delivery Address</strong>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding: 2px 0">{{shippingAddress.name}}</td>
                  </tr>
                  <tr>
                    <td style="padding: 2px 0">{{shippingAddress.line1}}</td>
                  </tr>
                  <tr>
                    <td style="padding: 2px 0">
                      {{shippingAddress.city}}, {{shippingAddress.state}}
                    </td>
                  </tr>
                  <tr>
                    <td style="padding: 2px 0">{{shippingAddress.country}}</td>
                  </tr>
                  <tr>
                    <td style="padding: 2px 0">
                      Phone: {{shippingAddress.phone}}
                    </td>
                  </tr>
                </table>
              </td>
            </tr>

            <!-- FOOTER -->
            <tr>
              <td
                class="mobile-pad mobile-font-footer mobile-tight-pad-sm"
                align="center"
                style="
                  padding: 20px;
                  font-size: 12px;
                  color: #666;
                  border-top: 1px solid #e5e7eb;
                  background: #f9fafb;
                "
              >
                <p style="margin: 0 0 6px">Need help with your order?</p>

                <p style="margin: 0">
                  Contact our support team at
                  <strong>{{supportEmail}}</strong>
                </p>

                <p style="margin: 10px 0 0; color: #999">
                  Â© {{year}} {{storeName}}. All rights reserved.
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
